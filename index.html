<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>domo.health | Copywriting Meta Ads (Review Mode)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #334155; }
        .active-tab { border-bottom: 2px solid #0f766e; color: #0f766e; font-weight: 600; background-color: #f0fdfa; }
        .inactive-tab { color: #64748b; background-color: white; }
        .inactive-tab:hover { color: #334155; background-color: #f8fafc; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .copy-icon { opacity: 0; transition: opacity 0.2s; }
        .group:hover .copy-icon { opacity: 1; }
        
        /* Feedback Mode Styles */
        .feedback-box { display: none; }
        .feedback-active .feedback-box { display: block; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-3">
                    <div class="bg-teal-700 text-white w-8 h-8 flex items-center justify-center rounded font-bold text-lg">D</div>
                    <span class="font-bold text-xl tracking-tight text-slate-800">Proposition Texte Publicitaire Meta Domo Pro</span>
                </div>
                <div class="flex items-center gap-4">
                    <button onclick="exportFeedback()" class="bg-slate-800 text-white px-4 py-2 rounded text-sm font-medium hover:bg-slate-700 transition flex items-center gap-2">
                        <span>ğŸ“¤</span> Exporter Retours
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <div class="mb-6 bg-blue-50 border border-blue-100 p-4 rounded-lg flex items-start gap-3">
            <span class="text-2xl">â„¹ï¸</span>
            <div>
                <h3 class="font-bold text-blue-800 text-sm">Mode RÃ©vision</h3>
                <p class="text-xs text-blue-700 mt-1">
                    Passez en revue les textes proposÃ©s. Cliquez sur le bouton ğŸ’¬ <strong>"Feedback"</strong> Ã  cÃ´tÃ© d'un texte pour ajouter vos corrections ou commentaires.
                    <br>Une fois terminÃ©, cliquez sur "Exporter Retours" en haut Ã  droite pour nous envoyer vos modifications.
                </p>
            </div>
        </div>

        <!-- Format Tabs -->
        <div class="flex space-x-2 mb-8 border-b border-slate-200 overflow-x-auto">
            <button onclick="switchSection('variations')" id="tab-variations" class="active-tab px-6 py-3 text-sm font-medium rounded-t-lg transition flex-shrink-0">
                ğŸ“ 5 Variations (Tous Formats)
            </button>
            <button onclick="switchSection('carousel')" id="tab-carousel" class="inactive-tab px-6 py-3 text-sm font-medium rounded-t-lg transition flex-shrink-0">
                ğŸ  SpÃ©cifique Carrousel
            </button>
            <button onclick="switchSection('video')" id="tab-video" class="inactive-tab px-6 py-3 text-sm font-medium rounded-t-lg transition flex-shrink-0">
                ğŸ¥ SpÃ©cifique VidÃ©o
            </button>
        </div>

        <!-- SECTION 1: 5 VARIATIONS (COMMON POOL) -->
        <div id="view-variations" class="fade-in space-y-6">
            <div class="bg-teal-50 border-l-4 border-teal-500 p-4 rounded-r-lg mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                <div>
                    <h3 class="font-bold text-teal-800">Socle Commun (Pour Images, VidÃ©os & Intro Carrousel)</h3>
                    <p class="text-sm text-teal-700">
                        Ces 5 variations complÃ¨tes (Texte + Titre + Description) sont Ã  utiliser pour <strong>tous les formats</strong>.
                    </p>
                </div>
                <span class="bg-white text-teal-800 px-3 py-1 rounded text-xs font-bold border border-teal-200 shadow-sm whitespace-nowrap">
                    ğŸ”— Destination : Page Domo Pro
                </span>
            </div>

            <div id="variations-container" class="grid gap-8">
                <!-- JS will populate variations here -->
            </div>
        </div>

        <!-- SECTION 2: CAROUSEL SPECIFICS -->
        <div id="view-carousel" class="hidden fade-in space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b pb-4 gap-4">
                    <div>
                        <h2 class="text-lg font-bold text-slate-800">Structure & Titres Carrousel</h2>
                        <p class="text-sm text-slate-600 mt-1">
                            <strong>Structure :</strong> Une Intro globale (choisir une des 5 variations) + <strong>Un Titre unique sous chaque carte</strong> (ci-dessous).
                        </p>
                    </div>
                    <span class="bg-white text-teal-800 px-3 py-1 rounded text-xs font-bold border border-teal-200 shadow-sm whitespace-nowrap">
                        ğŸ”— Destination : Page Domo Pro
                    </span>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- FR -->
                    <div class="space-y-4">
                        <h3 class="font-bold text-teal-700">ğŸ‡«ğŸ‡· FranÃ§ais</h3>
                        <div class="space-y-4">
                            <!-- Helper function in JS will render these blocks with feedback buttons -->
                            <div id="carousel-fr-container" class="space-y-3"></div>
                        </div>
                    </div>
                    <!-- DE -->
                    <div class="space-y-4">
                        <h3 class="font-bold text-teal-700">ğŸ‡©ğŸ‡ª Allemand</h3>
                        <div class="space-y-4">
                            <div id="carousel-de-container" class="space-y-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 3: VIDEO MICROSOFT -->
        <div id="view-video" class="hidden fade-in space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b pb-4 gap-4">
                    <div>
                        <h2 class="text-lg font-bold text-slate-800">Configuration VidÃ©o Microsoft</h2>
                        <p class="text-sm text-slate-600 mt-1">
                            La vidÃ©o est <strong>dÃ©jÃ  montÃ©e</strong>. Utilisez l'une des 5 variations de l'onglet principal pour les textes.
                        </p>
                    </div>
                    <div class="flex flex-col items-end gap-2">
                        <span class="bg-purple-50 text-purple-800 px-3 py-1 rounded text-xs font-semibold border border-purple-100 whitespace-nowrap">
                            ğŸ”— Destination : Page Domo Pro
                        </span>
                        <span class="bg-slate-50 text-slate-600 px-3 py-1 rounded text-xs font-semibold border border-slate-200 whitespace-nowrap">
                            â„¹ï¸ Utilisez les textes de l'onglet "5 Variations"
                        </span>
                    </div>
                </div>

                <div class="text-center py-12 bg-slate-50 rounded-lg border border-dashed border-slate-300">
                    <span class="text-4xl block mb-2">ğŸ‘ˆ</span>
                    <p class="text-slate-500 font-medium">Veuillez sÃ©lectionner vos textes dans l'onglet <br><button onclick="switchSection('variations')" class="text-teal-600 font-bold hover:underline">"5 Variations (Tous Formats)"</button></p>
                </div>
            </div>
        </div>

    </main>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-4 right-4 bg-slate-800 text-white px-4 py-2 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-50 flex items-center gap-2">
        <span>ğŸ“‹</span> CopiÃ© !
    </div>
    
    <!-- Export Modal -->
    <div id="export-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 fade-in">
        <div class="bg-white rounded-lg p-6 max-w-lg w-full m-4">
            <h3 class="text-lg font-bold mb-4">Vos retours sont prÃªts</h3>
            <p class="text-sm text-slate-600 mb-4">Copiez le rÃ©sumÃ© ci-dessous et envoyez-le nous par email.</p>
            <textarea id="export-area" class="w-full h-48 p-3 border rounded bg-slate-50 text-xs font-mono mb-4" readonly></textarea>
            <div class="flex justify-end gap-2">
                <button onclick="closeModal()" class="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded">Fermer</button>
                <button onclick="copyExport()" class="px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700">Copier</button>
            </div>
        </div>
    </div>

    <!-- Script -->
    <script>
        // --- DATA ---
        const variations = [
            {
                id: "var1",
                angle: "Gain de Temps â³",
                fr: {
                    primary: "Gagnez jusqu'Ã  2h par jour sur vos tÃ¢ches administratives ! â±ï¸\n\nNe laissez plus la paperasse empiÃ©ter sur vos soins. Avec domo.health PRO, simplifiez votre quotidien d'infirmier(Ã¨re) Ã  domicile :\nâœ… Envoi automatique des factures via MediData\nâœ… Gestion complÃ¨te des profils patients\nâœ… Planification intelligente\n\nMoins d'Ã©cran, plus de temps pour vos patients. Testez la diffÃ©rence. ğŸ‘‡",
                    headline: "Gagnez 2h/jour d'administratif",
                    desc: "Solution complÃ¨te soins Ã  domicile",
                    cta: "En savoir plus"
                },
                de: {
                    primary: "Sparen Sie tÃ¤glich bis zu 2 Stunden bei administrativen Aufgaben! â±ï¸\n\nLassen Sie den Papierkram nicht Ihre Pflege beeintrÃ¤chtigen. Mit domo.health PRO vereinfachen Sie Ihren Alltag als Pflegefachkraft:\nâœ… Automatischer Rechnungsversand via MediData\nâœ… Umfassende Verwaltung der Patientenprofile\nâœ… Intelligente Planung\n\nWeniger Bildschirm, mehr Zeit fÃ¼r Ihre Patienten. Testen Sie den Unterschied. ğŸ‘‡",
                    headline: "Sparen Sie 2 Std./Tag Admin",
                    desc: "KomplettlÃ¶sung hÃ¤usliche Pflege",
                    cta: "Mehr dazu"
                }
            },
            {
                id: "var2",
                angle: "Facturation MediData ğŸ’³",
                fr: {
                    primary: "La facturation via MediData n'a jamais Ã©tÃ© aussi simple. ğŸ’¼\n\ndomo.health PRO transforme votre gestion des soins Ã  domicile. Fini les erreurs et les retards de paiement. Notre plateforme automatise l'envoi de vos factures et sÃ©curise vos revenus.\n\nğŸ”¹ Facturation LAMal conforme\nğŸ”¹ Suivi des patients en un clic\nğŸ”¹ Coordination facilitÃ©e\n\nSimplifiez votre pratique dÃ¨s aujourd'hui.",
                    headline: "Facturation MediData AutomatisÃ©e",
                    desc: "Logiciel infirmier suisse",
                    cta: "Demander une dÃ©mo" // Not common in Meta dropdowns but requested
                },
                de: {
                    primary: "Die Abrechnung via MediData war noch nie so einfach. ğŸ’¼\n\ndomo.health PRO revolutioniert Ihr Pflegemanagement. Schluss mit Fehlern und ZahlungsverzÃ¶gerungen. Unsere Plattform automatisiert den Rechnungsversand und sichert Ihre Einnahmen.\n\nğŸ”¹ KVG-konforme Abrechnung\nğŸ”¹ PatientenÃ¼berwachung mit einem Klick\nğŸ”¹ Erleichterte Koordination\n\nVereinfachen Sie Ihre Praxis noch heute.",
                    headline: "Automatisierte MediData-Abrechnung",
                    desc: "Schweizer Pflegesoftware",
                    cta: "Demo anfordern" // Not common in Meta dropdowns but requested
                }
            },
            {
                id: "var3",
                angle: "Innovation & IA ğŸ¤–",
                fr: {
                    primary: "Votre pratique infirmiÃ¨re, renforcÃ©e par lâ€™IA. ğŸ¤–âœ¨\n\nDÃ©couvrez domo.health PRO, la plateforme de santÃ© digitale qui rÃ©volutionne les soins Ã  domicile. GrÃ¢ce Ã  notre application mobile intelligente, emportez votre cabinet partout avec vous.\n\nğŸ“± App mobile intuitive\nğŸ§  Assistance par IA pour vos dossiers\nâš¡ Coordination en temps rÃ©el\n\nPassez au standard supÃ©rieur pour vos soins Ã  domicile.",
                    headline: "L'IA au service de vos soins",
                    desc: "App mobile SantÃ© & IA",
                    cta: "En savoir plus"
                },
                de: {
                    primary: "Ihre Pflegepraxis, verstÃ¤rkt durch KI. ğŸ¤–âœ¨\n\nEntdecken Sie domo.health PRO, die digitale Gesundheitsplattform, die die hÃ¤usliche Pflege revolutioniert. Dank unserer intelligenten mobilen App haben Sie Ihre Praxis immer dabei.\n\nğŸ“± Intuitive mobile App\nğŸ§  KI-UnterstÃ¼tzung fÃ¼r Ihre Dossiers\nâš¡ Echtzeit-Koordination\n\nWechseln Sie zum hÃ¶heren Standard fÃ¼r Ihre hÃ¤usliche Pflege.",
                    headline: "KI im Dienste Ihrer Pflege",
                    desc: "Mobile App Gesundheit & KI",
                    cta: "Mehr dazu"
                }
            },
            {
                id: "var4",
                angle: "Tout-en-un ğŸ¥",
                fr: {
                    primary: "Une seule plateforme pour TOUTE votre activitÃ©. ğŸ¥\n\nPourquoi multiplier les outils ? domo.health PRO centralise tout ce dont vous avez besoin pour des soins Ã  domicile efficaces :\n\n1ï¸âƒ£ Gestion des dossiers & profils patients\n2ï¸âƒ£ Planification des tournÃ©es\n3ï¸âƒ£ Facturation MediData intÃ©grÃ©e\n\nCoordination, efficacitÃ©, sÃ©rÃ©nitÃ©. DÃ©couvrez la solution tout-en-un choisie par les pros.",
                    headline: "Tout votre cabinet dans 1 app",
                    desc: "Simplifiez votre quotidien",
                    cta: "S'inscrire"
                },
                de: {
                    primary: "Eine einzige Plattform fÃ¼r Ihre GESAMTE TÃ¤tigkeit. ğŸ¥\n\nWarum mehrere Tools nutzen? domo.health PRO zentralisiert alles, was Sie fÃ¼r eine effiziente hÃ¤usliche Pflege benÃ¶tigen:\n\n1ï¸âƒ£ Verwaltung von Dossiers & Patientenprofilen\n2ï¸âƒ£ Tourenplanung\n3ï¸âƒ£ Integrierte MediData-Abrechnung\n\nKoordination, Effizienz, Gelassenheit. Entdecken Sie die All-in-One-LÃ¶sung der Profis.",
                    headline: "Ihre gesamte Praxis in 1 App",
                    desc: "Vereinfachen Sie Ihren Alltag",
                    cta: "Registrieren"
                }
            },
            {
                id: "var5",
                angle: "Preuve Sociale â­",
                fr: {
                    primary: "Transformez votre organisation de soins avec la solution suisse de rÃ©fÃ©rence. ğŸ‡¨ğŸ‡­\n\nRejoignez les infirmiers et professionnels de santÃ© qui ont choisi domo.health PRO pour optimiser leur temps et amÃ©liorer le suivi patient.\n\nğŸ‘‰ Suivi patient en un clic\nğŸ‘‰ ConformitÃ© totale\nğŸ‘‰ Support local\n\nFacilitez vos soins Ã  domicile dÃ¨s maintenant. Demandez votre accÃ¨s.",
                    headline: "Logiciel de soins nÂ°1",
                    desc: "Pour infirmiers indÃ©pendants & CMS",
                    cta: "En savoir plus"
                },
                de: {
                    primary: "Transformieren Sie Ihre Pflegeorganisation mit der fÃ¼hrenden Schweizer LÃ¶sung. ğŸ‡¨ğŸ‡­\n\nSchlieÃŸen Sie sich den PflegefachkrÃ¤ften an, die domo.health PRO gewÃ¤hlt haben, um ihre Zeit zu optimieren und die Patientenbetreuung zu verbessern.\n\nğŸ‘‰ PatientenÃ¼berwachung mit einem Klick\nğŸ‘‰ VollstÃ¤ndige KonformitÃ¤t\nğŸ‘‰ Lokaler Support\n\nErleichtern Sie Ihre hÃ¤usliche Pflege jetzt. Fordern Sie Ihren Zugang an.",
                    headline: "Nr. 1 Pflegesoftware",
                    desc: "FÃ¼r unabhÃ¤ngige PflegekrÃ¤fte & Spitex",
                    cta: "Mehr dazu"
                }
            }
        ];

        const carouselData = {
            fr: [
                { id: "car1", label: "CARTE 1 (Patient)", text: "Gestion complÃ¨te des patients" },
                { id: "car2", label: "CARTE 2 (Planning)", text: "Planification intelligente" },
                { id: "car3", label: "CARTE 3 (Facturation)", text: "Facturation MediData auto" },
                { id: "car4", label: "CARTE 4 (Coordination)", text: "Coordination en temps rÃ©el" }
            ],
            de: [
                { id: "car1d", label: "KARTE 1 (Patient)", text: "Umfassende Patientenverwaltung" },
                { id: "car2d", label: "KARTE 2 (Planning)", text: "Intelligente Einsatzplanung" },
                { id: "car3d", label: "KARTE 3 (Abrechnung)", text: "Autom. MediData-Abrechnung" },
                { id: "car4d", label: "KARTE 4 (Koordination)", text: "Echtzeit-Koordination" }
            ]
        };

        // --- RENDER FUNCTIONS ---

        function createFeedbackBlock(id, label, text, isReadonly = false) {
            return `
                <div class="group/item relative transition-all duration-300" id="block-${id}">
                    <div class="flex justify-between items-end mb-1">
                        <label class="block text-xs font-semibold text-slate-400 uppercase tracking-wide">${label}</label>
                        ${!isReadonly ? `<button onclick="toggleFeedback('${id}')" class="text-xs text-slate-400 hover:text-blue-600 flex items-center gap-1 opacity-60 group-hover/item:opacity-100 transition">ğŸ’¬ Feedback</button>` : ''}
                    </div>
                    
                    <div class="relative">
                        <div class="text-sm text-slate-700 whitespace-pre-line bg-slate-50 p-3 rounded cursor-pointer hover:bg-teal-50 transition border border-transparent hover:border-teal-200" onclick="copyText(this)">${text}</div>
                        <div class="absolute top-2 right-2 copy-icon text-teal-600 bg-white/80 p-1 rounded shadow-sm border pointer-events-none">ğŸ“‹</div>
                    </div>

                    <!-- Feedback Box -->
                    <div class="feedback-box mt-2 animate-fade-in pl-4 border-l-2 border-blue-200">
                        <textarea id="fb-${id}" placeholder="Entrez vos corrections ou commentaires ici..." class="w-full p-2 text-sm border border-slate-200 rounded bg-white focus:ring-2 focus:ring-blue-100 outline-none" rows="2" oninput="saveFeedback('${id}')"></textarea>
                    </div>
                </div>
            `;
        }

        function renderVariations() {
            const container = document.getElementById('variations-container');
            variations.forEach((v, i) => {
                const div = document.createElement('div');
                div.className = "bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden";
                div.innerHTML = `
                    <div class="bg-slate-50 px-6 py-3 border-b border-slate-200 font-bold text-slate-700 flex justify-between">
                        <span>Variation ${i+1}: ${v.angle}</span>
                        <span class="text-xs bg-white border px-2 py-1 rounded text-slate-500">Kit Complet</span>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-100">
                        <!-- FR -->
                        <div class="p-6 space-y-5">
                            <div class="flex items-center gap-2 mb-2 border-b border-slate-100 pb-2">
                                <span class="text-xl">ğŸ‡«ğŸ‡·</span>
                                <span class="text-xs font-bold text-slate-400 uppercase">FranÃ§ais</span>
                            </div>
                            ${createFeedbackBlock(v.id + '_fr_prim', 'TEXTE PRINCIPAL', v.fr.primary)}
                            <div class="grid grid-cols-2 gap-3">
                                ${createFeedbackBlock(v.id + '_fr_head', 'TITRE', v.fr.headline)}
                                ${createFeedbackBlock(v.id + '_fr_desc', 'DESCRIPTION', v.fr.desc)}
                            </div>
                            <!-- Updated CTA -->
                            <div class="text-xs text-slate-400 pt-2 border-t border-slate-50 mt-2">
                                Bouton: <span class="font-semibold text-slate-600">${v.fr.cta}</span>
                            </div>
                        </div>

                        <!-- DE -->
                        <div class="p-6 space-y-5">
                            <div class="flex items-center gap-2 mb-2 border-b border-slate-100 pb-2">
                                <span class="text-xl">ğŸ‡©ğŸ‡ª</span>
                                <span class="text-xs font-bold text-slate-400 uppercase">Allemand</span>
                            </div>
                            ${createFeedbackBlock(v.id + '_de_prim', 'TEXTE PRINCIPAL', v.de.primary)}
                            <div class="grid grid-cols-2 gap-3">
                                ${createFeedbackBlock(v.id + '_de_head', 'TITRE', v.de.headline)}
                                ${createFeedbackBlock(v.id + '_de_desc', 'DESCRIPTION', v.de.desc)}
                            </div>
                            <!-- Updated CTA -->
                            <div class="text-xs text-slate-400 pt-2 border-t border-slate-50 mt-2">
                                Button: <span class="font-semibold text-slate-600">${v.de.cta}</span>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderSimpleLists() {
            // Carousel
            document.getElementById('carousel-fr-container').innerHTML = carouselData.fr.map(i => createFeedbackBlock(i.id, i.label, i.text)).join('');
            document.getElementById('carousel-de-container').innerHTML = carouselData.de.map(i => createFeedbackBlock(i.id, i.label, i.text)).join('');
        }

        // --- INTERACTION LOGIC ---

        function toggleFeedback(id) {
            const block = document.getElementById(`block-${id}`);
            const textarea = document.getElementById(`fb-${id}`);
            
            if (block.classList.contains('feedback-active')) {
                // Only hide if empty
                if (!textarea.value.trim()) {
                    block.classList.remove('feedback-active');
                }
            } else {
                block.classList.add('feedback-active');
                textarea.focus();
            }
        }

        // Simulating auto-save (In a real app, this would update a state object)
        const feedbackStore = {};
        function saveFeedback(id) {
            const val = document.getElementById(`fb-${id}`).value;
            if (val.trim()) {
                feedbackStore[id] = val;
            } else {
                delete feedbackStore[id];
            }
        }

        function exportFeedback() {
            const keys = Object.keys(feedbackStore);
            if (keys.length === 0) {
                alert("Aucun commentaire n'a Ã©tÃ© saisi pour l'instant.");
                return;
            }

            let report = "RETOURS COPYWRITING META ADS - DOMO.HEALTH\n==========================================\n\n";
            keys.forEach(key => {
                // Try to find the label/context associated with the ID
                // Simple parsing for demo purposes
                let context = key.includes('fr') ? "FR" : "DE";
                report += `[${context}] ID: ${key}\nCOMMENTAIRE: ${feedbackStore[key]}\n------------------------------------------\n`;
            });

            document.getElementById('export-area').value = report;
            document.getElementById('export-modal').classList.remove('hidden');
            document.getElementById('export-modal').classList.add('flex');
        }

        function closeModal() {
            document.getElementById('export-modal').classList.add('hidden');
            document.getElementById('export-modal').classList.remove('flex');
        }

        function copyExport() {
            const text = document.getElementById('export-area').value;
            navigator.clipboard.writeText(text).then(() => {
                alert("Rapport copiÃ© ! Vous pouvez le coller dans un email.");
            });
        }

        function switchSection(id) {
            ['variations', 'carousel', 'video'].forEach(s => {
                const view = document.getElementById(`view-${s}`);
                const tab = document.getElementById(`tab-${s}`);
                if(view && tab) {
                    view.classList.add('hidden');
                    tab.classList.remove('active-tab');
                    tab.classList.add('inactive-tab');
                }
            });
            document.getElementById(`view-${id}`).classList.remove('hidden');
            document.getElementById(`tab-${id}`).classList.add('active-tab');
            document.getElementById(`tab-${id}`).classList.remove('inactive-tab');
        }

        function copyText(el) {
            let text = el.innerText;
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.remove('translate-y-20', 'opacity-0');
                setTimeout(() => toast.classList.add('translate-y-20', 'opacity-0'), 2000);
            });
        }

        // Initialize
        renderVariations();
        renderSimpleLists();

    </script>
</body>
</html>
